{% load static %}
<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AS-AVTO - Giriş</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
</head>
<body>
    <div class="login-page">
        {# PROFILE SLIDER - YUXARIDA #}
        {% if verified_profiles and verified_profiles|length > 0 %}
        <div class="profile-slider-section" style="margin-bottom: 18px;">
            <div class="swiper profile-swiper">
                <div class="swiper-wrapper">
                    {% for profile in verified_profiles %}
                    <div class="swiper-slide" style="display:flex;flex-direction:column;align-items:center;">
                        <img src="{{ profile.sekil.url }}" alt="{{ profile.user.username }}" style="width:70px;height:70px;border-radius:50%;object-fit:cover;border:3px solid #3498db;box-shadow:0 2px 8px rgba(44,62,80,0.10);">
                        <div style="margin-top:7px;font-size:0.95rem;font-weight:500;color:#2c3e50;white-space:nowrap;">{{ profile.user.username }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
        <!-- REKLAM BANNERI -->
        <div class="promo-banner" style="background: linear-gradient(90deg, #2c3e50 0%, #3498db 100%); color: #fff; padding: 22px 24px; border-radius: 12px; margin-bottom: 28px; text-align: center; font-size: 1.13rem; font-weight: 500; box-shadow: 0 2px 12px rgba(44,62,80,0.08);">
            <i class="fas fa-bullhorn" style="margin-right: 10px;"></i>
            <div style="margin-bottom: 8px; font-size: 1.18rem; font-weight: 600;">AS-AVTO-da biznesinizi böyüdün!</div>
            <div style="margin-bottom: 6px;">Saytda qeydiyyatdan keçib <b>pulsuz daxil olun</b>, bir çox satıcının məhsullarını görün və sifariş edin.</div>
            <div style="margin-bottom: 6px;">Siz də məhsul yerləşdirmək istəyirsiniz? <b>Ayda 10 AZN</b> ödəməklə məhsullarınızı yerləşdirin.</div>
            <div style="margin-bottom: 6px;">Sifarişləri anında görün, məhsulları və ya sifarişləri <b>PDF</b>-ə çıxarın, məhsulları <b>Excel</b> ilə əlavə edin, profilinizi yaradın, satış və alıcı statistikanıza baxın, balansınızı izləyin və daha çox imkanlardan yararlanın.</div>
            <div style="margin-bottom: 6px;">Bütün imkanlar bir platformada: <b>AS-AVTO</b>!</div>
            <div style="margin-top: 10px; font-size: 1.05rem;">
                <i class="fas fa-phone"></i> <a href="tel:+994773059585" style="color:#ffc107;font-weight:600;text-decoration:none;">+994 77 305 95 85</a> &nbsp;|
                <i class="fas fa-phone"></i> <a href="tel:+994702754499" style="color:#ffc107;font-weight:600;text-decoration:none;">+994 70 275 44 99</a> &nbsp;|
                <i class="fas fa-map-marker-alt"></i> <span style="color:#ffc107;font-weight:600;">Bakı şəh. Binəqədi ray. M.Rəsulzadə</span>
            </div>
        </div>
        <!-- END REKLAM BANNERI -->
        {# FIRMA SLIDER - ALTDA #}
        {% if all_firmalar and all_firmalar|length > 0 %}
        <div class="firma-slider-section" style="margin: 18px 0 18px 0;">
            <div class="swiper firma-swiper">
                <div class="swiper-wrapper">
                    {% for firma in all_firmalar %}
                        {% if firma.logo %}
                        <div class="swiper-slide" style="display:flex;flex-direction:column;align-items:center;">
                            <img src="{{ firma.logo.url }}" alt="{{ firma.adi }}" style="width:90px;height:90px;object-fit:contain;border-radius:16px;background:#fff;box-shadow:0 2px 8px rgba(44,62,80,0.10);">
                            <div style="margin-top:7px;font-size:0.93rem;font-weight:500;color:#2c3e50;white-space:nowrap;">{{ firma.adi }}</div>
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
        <div class="login-container">
            <div class="login-logo">
                <img src="{% static 'images/Header_Logo.png' %}" alt="AS-AVTO">
            </div>
            <h1 class="login-title">Xoş Gəlmisiniz</h1>
            
            {% if error_message %}
                <div class="error-message">
                    <i class="fas fa-exclamation-circle"></i>
                    {{ error_message }}
                </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <i class="fas fa-user"></i>
                    <input type="text" name="username" class="form-input" placeholder="İstifadəçi adı" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" name="password" class="form-input" placeholder="Şifrə" required>
                </div>
                <button type="submit" class="login-button">
                    <i class="fas fa-sign-in-alt"></i>
                    Daxil ol
                </button>
            </form>

            <div class="register-link">
                Hesabınız yoxdur? <a href="{% url 'register' %}">Qeydiyyatdan keçin</a>
            </div>

            <div class="login-footer">
                © {% now "Y" %} AS-AVTO. Bütün hüquqlar qorunur.
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
    // Profile Swiper
    if(document.querySelector('.profile-swiper')){
        new Swiper('.profile-swiper', {
            slidesPerView: 5,
            spaceBetween: 18,
            loop: true,
            autoplay: { delay: 1800, disableOnInteraction: false },
            breakpoints: { 0: {slidesPerView: 2}, 480: {slidesPerView: 3}, 768: {slidesPerView: 5} }
        });
    }
    // Firma Swiper
    if(document.querySelector('.firma-swiper')){
        new Swiper('.firma-swiper', {
            slidesPerView: 4,
            spaceBetween: 24,
            loop: true,
            autoplay: { delay: 2000, disableOnInteraction: false },
            breakpoints: { 0: {slidesPerView: 2}, 480: {slidesPerView: 3}, 768: {slidesPerView: 4} }
        });
    }
    </script>
</body>
</html>