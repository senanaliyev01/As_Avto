{% extends 'base.html' %}
{% load static %}

{% block title %}{{ mehsul.adi }} - Məhsul Detalları{% endblock %}

{% block content %}
<div class="container product-detail-container">
    <div class="product-detail-card">
        <div class="product-detail-main">
            <div class="product-detail-image">
                <img src="{{ mehsul.sekil.url }}" alt="{{ mehsul.adi }}" style="width:300px; height:300px; object-fit:cover; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
            </div>
            <div class="product-detail-info">
                <h2 class="product-detail-title">{{ mehsul.adi }}</h2>
                <div class="product-detail-meta">
                    <div><b>Kod:</b> {{ mehsul.brend_kod }}</div>
                    <div><b>Firma:</b> {{ mehsul.firma.adi }}</div>
                    <div><b>Avtomobil:</b> {{ mehsul.avtomobil.adi }}</div>
                    <div><b>Vitrin:</b> {{ mehsul.vitrin.nomre }}</div>
                    <div><b>Ölçü:</b> {{ mehsul.olcu }}</div>
                    <div><b>Qiymət:</b> <span class="product-detail-price">{{ mehsul.qiymet }} ₼</span></div>
                    <div><b>Stok:</b> {{ mehsul.stok }}</div>
                    <div><b>Satıcı:</b> {% if mehsul.sahib %}{{ mehsul.sahib.username }}{% else %}AS-AVTO{% endif %}</div>
                </div>
            </div>
        </div>
        <div class="product-detail-wide-cards">
            <div class="product-detail-wide-card">
                <h3>Məhsul haqqında</h3>
                <div class="product-detail-description">{{ mehsul.melumat|linebreaksbr }}</div>
            </div>
            <div class="product-detail-wide-card">
                <h3>Kodlar</h3>
                <div class="product-detail-codes" id="productCodes">{{ mehsul.kodlar }}</div>
                <button class="btn btn-outline-primary copy-codes-btn" onclick="copyProductCodes()">Kopyala</button>
            </div>
        </div>
    </div>
</div>

<script>
function copyProductCodes() {
    var codes = document.getElementById('productCodes').innerText;
    navigator.clipboard.writeText(codes).then(function() {
        alert('Kodlar uğurla kopyalandı!');
    }, function() {
        alert('Kopyalama zamanı xəta baş verdi.');
    });
}
</script>

<style>
.product-detail-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 0 16px;
}
.product-detail-card {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    padding: 32px 24px;
}
.product-detail-main {
    display: flex;
    gap: 40px;
    align-items: flex-start;
}
.product-detail-image {
    flex: 0 0 300px;
    display: flex;
    justify-content: flex-start;
}
.product-detail-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
    justify-content: flex-start;
}
.product-detail-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 8px;
}
.product-detail-meta > div {
    font-size: 1.1rem;
    margin-bottom: 6px;
}
.product-detail-price {
    color: #2B5173;
    font-weight: 600;
    font-size: 1.2rem;
}
.product-detail-wide-cards {
    margin-top: 36px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}
.product-detail-wide-card {
    width: 100%;
    background: #f8f9fa;
    border-radius: 12px;
    padding: 28px 32px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.03);
    margin-bottom: 0;
}
.product-detail-wide-card h3 {
    margin-bottom: 12px;
    font-size: 1.25rem;
    font-weight: 600;
    color: #2B5173;
}
.product-detail-description {
    font-size: 1.13rem;
    color: #222;
    line-height: 1.7;
}
.product-detail-codes {
    font-size: 1.2rem;
    font-family: 'Fira Mono', 'Consolas', monospace;
    background: #fff;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 12px;
    width: 100%;
    word-break: break-all;
}
.copy-codes-btn {
    margin-top: 4px;
}
@media (max-width: 800px) {
    .product-detail-main {
        flex-direction: column;
        gap: 20px;
    }
    .product-detail-image {
        margin: 0 auto 20px auto;
    }
    .product-detail-wide-card {
        padding: 18px 10px;
    }
}
</style>
{% endblock %} 