{% extends 'base.html' %}
{% load static %}

{% block title %}{{ mehsul.adi }} - Məhsul Detalları{% endblock %}

{% block content %}
<div class="product-detail-outer">
    <div class="product-detail-flex">
        <div class="product-detail-left">
            <div class="product-detail-image-card">
                <img src="{{ mehsul.sekil.url }}" alt="{{ mehsul.adi }}">
            </div>
        </div>
        <div class="product-detail-right">
            <div class="product-detail-info-card">
                <h2>{{ mehsul.adi }}</h2>
                <div class="product-detail-meta">
                    <div><span>Kod:</span> <b>{{ mehsul.brend_kod }}</b></div>
                    <div><span>Firma:</span> <b>{{ mehsul.firma.adi }}</b></div>
                    <div><span>Avtomobil:</span> <b>{{ mehsul.avtomobil.adi }}</b></div>
                    <div><span>Vitrin:</span> <b>{{ mehsul.vitrin.nomre }}</b></div>
                    <div><span>Ölçü:</span> <b>{{ mehsul.olcu }}</b></div>
                    <div><span>Qiymət:</span> <b class="product-detail-price">{{ mehsul.qiymet }} ₼</b></div>
                    <div><span>Stok:</span> <b>{{ mehsul.stok }}</b></div>
                    <div><span>Satıcı:</span> <b>{% if mehsul.sahib %}{{ mehsul.sahib.username }}{% else %}AS-AVTO{% endif %}</b></div>
                </div>
            </div>
        </div>
    </div>
    <div class="product-detail-wide-row">
        <div class="product-detail-wide-card">
            <h3>Məhsul haqqında</h3>
            <div class="product-detail-description">{{ mehsul.melumat|linebreaksbr }}</div>
        </div>
        <div class="product-detail-wide-card">
            <h3>Kodlar</h3>
            <div class="product-detail-codes" id="productCodes">{{ mehsul.kodlar }}</div>
            <button class="btn btn-outline-primary copy-codes-btn" onclick="copyProductCodes()">Kopyala</button>
        </div>
    </div>
</div>

<script>
function copyProductCodes() {
    var codes = document.getElementById('productCodes').innerText;
    navigator.clipboard.writeText(codes).then(function() {
        alert('Kodlar uğurla kopyalandı!');
    }, function() {
        alert('Kopyalama zamanı xəta baş verdi.');
    });
}
</script>

<style>
.product-detail-outer {
    width: 100vw;
    max-width: 100vw;
    margin: 0;
    padding: 0;
    background: #f4f6fa;
}
.product-detail-flex {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: flex-start;
    gap: 48px;
    width: 100%;
    max-width: 1300px;
    margin: 40px auto 0 auto;
    padding: 0 32px;
}
.product-detail-left {
    flex: 0 0 340px;
    display: flex;
    justify-content: flex-end;
}
.product-detail-image-card {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    padding: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 320px;
    height: 340px;
}
.product-detail-image-card img {
    width: 300px;
    height: 300px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
}
.product-detail-right {
    flex: 1;
    display: flex;
    align-items: flex-start;
}
.product-detail-info-card {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    padding: 32px 36px;
    min-width: 340px;
    max-width: 500px;
    width: 100%;
}
.product-detail-info-card h2 {
    font-size: 2.1rem;
    font-weight: 700;
    margin-bottom: 18px;
    color: #2B5173;
}
.product-detail-meta {
    display: flex;
    flex-direction: column;
    gap: 13px;
    font-size: 1.13rem;
}
.product-detail-meta span {
    color: #888;
    min-width: 90px;
    display: inline-block;
}
.product-detail-price {
    color: #2B5173;
    font-weight: 700;
    font-size: 1.18rem;
}
.product-detail-wide-row {
    width: 100vw;
    max-width: 100vw;
    display: flex;
    flex-direction: row;
    gap: 32px;
    margin: 48px auto 0 auto;
    justify-content: center;
    padding: 0 32px 48px 32px;
}
.product-detail-wide-card {
    flex: 1;
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    padding: 36px 32px 32px 32px;
    min-width: 340px;
    max-width: 600px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
}
.product-detail-wide-card h3 {
    margin-bottom: 14px;
    font-size: 1.25rem;
    font-weight: 600;
    color: #2B5173;
}
.product-detail-description {
    font-size: 1.13rem;
    color: #222;
    line-height: 1.7;
}
.product-detail-codes {
    font-size: 1.2rem;
    font-family: 'Fira Mono', 'Consolas', monospace;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 12px;
    width: 100%;
    word-break: break-all;
}
.copy-codes-btn {
    margin-top: 4px;
    width: 120px;
}
@media (max-width: 1100px) {
    .product-detail-flex {
        flex-direction: column;
        align-items: center;
        gap: 32px;
    }
    .product-detail-wide-row {
        flex-direction: column;
        gap: 24px;
        padding: 0 10px 32px 10px;
    }
    .product-detail-left, .product-detail-right {
        justify-content: center;
    }
}
@media (max-width: 700px) {
    .product-detail-image-card, .product-detail-info-card, .product-detail-wide-card {
        min-width: unset;
        max-width: 100vw;
        width: 100%;
        padding: 16px 6px;
    }
    .product-detail-flex, .product-detail-wide-row {
        padding: 0 2px;
    }
}
</style>
{% endblock %} 