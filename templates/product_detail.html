{% extends 'base.html' %}
{% load static %}

{% block title %}{{ mehsul.adi }} - Məhsul Detalları{% endblock %}

{% block content %}
<div class="container product-detail-container">
    <div class="product-detail-card">
        <div class="product-detail-image-section">
            <img class="product-detail-image" src="{{ mehsul.sekil.url }}" alt="{{ mehsul.adi }}">
        </div>
        <div class="product-detail-info-section">
            <h2 class="product-detail-title">{{ mehsul.adi }}</h2>
            <div class="product-detail-meta">
                <span class="product-detail-label">Brend kod:</span> <span>{{ mehsul.brend_kod }}</span><br>
                <span class="product-detail-label">OEM:</span> <span>{{ mehsul.oem|default:'-' }}</span><br>
                <span class="product-detail-label">Firma:</span> <span>{{ mehsul.firma.adi }}</span>
                {% if mehsul.firma.logo %}
                    <img class="firma-logo-detail" src="{{ mehsul.firma.logo.url }}" alt="{{ mehsul.firma.adi }}">
                {% endif %}<br>
                <span class="product-detail-label">Avtomobil:</span> <span>{{ mehsul.avtomobil.adi }}</span>
                <div class="avtomobil-logos-detail">
                    {% for logo in mehsul.avtomobil.logolar.all %}
                        <img class="avtomobil-logo-detail" src="{{ logo.sekil.url }}" alt="{{ mehsul.avtomobil.adi }}">
                    {% endfor %}
                </div>
                <span class="product-detail-label">Kateqoriya:</span> <span>{{ mehsul.kateqoriya.adi|default:'-' }}</span><br>
                <span class="product-detail-label">Ölçü:</span> <span>{{ mehsul.olcu|default:'-' }}</span><br>
                <span class="product-detail-label">Vitrin:</span> <span>{{ mehsul.vitrin.nomre|default:'-' }}</span><br>
                <span class="product-detail-label">Qiymət:</span> <span class="product-detail-price">{{ mehsul.qiymet }} ₼</span><br>
                <span class="product-detail-label">Maya qiyməti:</span> <span>{{ mehsul.maya_qiymet }} ₼</span><br>
                <span class="product-detail-label">Stok:</span> <span>{{ mehsul.stok }}</span><br>
                <span class="product-detail-label">Kodlar:</span> <span>{{ mehsul.kodlar|default:'-' }}</span><br>
                <span class="product-detail-label">Məlumat:</span> <span>{{ mehsul.melumat|default:'-' }}</span><br>
                <span class="product-detail-label">Yeni məhsul:</span> <span>{% if mehsul.yenidir %}Bəli{% else %}Xeyr{% endif %}</span>
                {% if mehsul.yenidir and mehsul.qalan_vaxt %}<br>
                    <span class="product-detail-label">Qalan vaxt:</span> <span>{{ mehsul.qalan_vaxt }}</span>
                {% endif %}
                <br>
                <span class="product-detail-label">Sahib:</span>
                {% if mehsul.sahib %}
                    <a href="#" class="seller-link" onclick="openUserDetailsModal({{ mehsul.sahib.id }}); return false;">
                        <i class="fas fa-user"></i> {{ mehsul.sahib.username }}
                    </a>
                {% else %}
                    AS-AVTO
                {% endif %}
            </div>
        </div>
    </div>
    <div class="product-detail-actions">
        {% if mehsul.stok > 0 %}
        <button type="button" class="btn btn-primary" onclick="openQuantityModal({{ mehsul.id }}, {{ mehsul.stok }})">
            <i class="fas fa-shopping-cart"></i> Səbətə əlavə et
        </button>
        {% else %}
        <span class="out-of-stock">Stokda yoxdur</span>
        {% endif %}
    </div>
</div>

<style>
.product-detail-container {
    max-width: 900px;
    margin: 40px auto;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 16px rgba(44, 62, 80, 0.08);
    padding: 32px 24px;
}
.product-detail-card {
    display: flex;
    flex-wrap: wrap;
    gap: 32px;
}
.product-detail-image-section {
    flex: 1 1 260px;
    display: flex;
    align-items: flex-start;
    justify-content: center;
}
.product-detail-image {
    max-width: 260px;
    max-height: 320px;
    border-radius: 8px;
    border: 1px solid #eee;
    background: #fafbfc;
}
.product-detail-info-section {
    flex: 2 1 400px;
    min-width: 300px;
}
.product-detail-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 18px;
    color: #2B5173;
}
.product-detail-meta {
    font-size: 1.08rem;
    line-height: 2.1;
}
.product-detail-label {
    font-weight: 600;
    color: #2B5173;
}
.product-detail-price {
    color: #27ae60;
    font-weight: 700;
    font-size: 1.2rem;
}
.firma-logo-detail {
    height: 28px;
    margin-left: 8px;
    vertical-align: middle;
}
.avtomobil-logos-detail {
    margin: 6px 0 10px 0;
}
.avtomobil-logo-detail {
    height: 28px;
    margin-right: 6px;
    border-radius: 4px;
    border: 1px solid #eee;
}
.product-detail-actions {
    margin-top: 32px;
    text-align: right;
}
.btn.btn-primary {
    background: #2B5173;
    color: #fff;
    border: none;
    padding: 10px 28px;
    border-radius: 6px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}
.btn.btn-primary:hover {
    background: #1a344a;
}
.out-of-stock {
    color: #c0392b;
    font-weight: 600;
    font-size: 1.1rem;
}
</style>

{% endblock %} 