{% extends 'base.html' %}
{% load static %}

{% block title %}{{ mehsul.adi }} - Məhsul Detalları{% endblock %}

{% block content %}
<div class="container product-detail-main-container">
    <div class="product-detail-flex-row">
        <div class="product-detail-image-card">
            <img src="{{ mehsul.sekil.url }}" alt="{{ mehsul.adi }}" class="product-detail-main-image">
        </div>
        <div class="product-detail-info-card">
            <h2 class="product-detail-title">{{ mehsul.adi }}</h2>
            <div class="product-detail-meta-list">
                <div><span>Kod:</span> <b>{{ mehsul.brend_kod }}</b></div>
                <div><span>Firma:</span> <b>{{ mehsul.firma.adi }}</b></div>
                <div><span>Avtomobil:</span> <b>{{ mehsul.avtomobil.adi }}</b></div>
                <div><span>Vitrin:</span> <b>{{ mehsul.vitrin.nomre }}</b></div>
                <div><span>Ölçü:</span> <b>{{ mehsul.olcu }}</b></div>
                <div><span>Qiymət:</span> <b class="product-detail-price">{{ mehsul.qiymet }} ₼</b></div>
                <div><span>Stok:</span> <b>{{ mehsul.stok }}</b></div>
                <div><span>Satıcı:</span> <b>{% if mehsul.sahib %}{{ mehsul.sahib.username }}{% else %}AS-AVTO{% endif %}</b></div>
            </div>
        </div>
    </div>
    <div class="product-detail-wide-row">
        <div class="product-detail-wide-card">
            <h3>Məhsul haqqında</h3>
            <div class="product-detail-description">{{ mehsul.melumat|linebreaksbr }}</div>
        </div>
        <div class="product-detail-wide-card">
            <h3>Kodlar</h3>
            <div class="product-detail-codes" id="productCodes">{{ mehsul.kodlar }}</div>
            <button class="btn btn-outline-primary copy-codes-btn" onclick="copyProductCodes()">Kopyala</button>
        </div>
    </div>
</div>

<script>
function copyProductCodes() {
    var codes = document.getElementById('productCodes').innerText;
    navigator.clipboard.writeText(codes).then(function() {
        alert('Kodlar uğurla kopyalandı!');
    }, function() {
        alert('Kopyalama zamanı xəta baş verdi.');
    });
}
</script>

<style>
.product-detail-main-container {
    max-width: 1100px;
    margin: 48px auto 32px auto;
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 6px 32px rgba(0,0,0,0.10);
    padding: 40px 36px 32px 36px;
    display: flex;
    flex-direction: column;
    gap: 36px;
}
.product-detail-flex-row {
    display: flex;
    flex-direction: row;
    gap: 40px;
    align-items: flex-start;
}
.product-detail-image-card {
    background: #f5f7fa;
    border-radius: 14px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.04);
    padding: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 320px;
    max-width: 320px;
}
.product-detail-main-image {
    width: 280px;
    height: 280px;
    object-fit: cover;
    border-radius: 10px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    background: #fff;
}
.product-detail-info-card {
    flex: 1;
    background: #f8f9fb;
    border-radius: 14px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.04);
    padding: 28px 32px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: 18px;
}
.product-detail-title {
    font-size: 2.1rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: #2B5173;
}
.product-detail-meta-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
    font-size: 1.13rem;
}
.product-detail-meta-list span {
    color: #888;
    min-width: 90px;
    display: inline-block;
}
.product-detail-price {
    color: #2B5173;
    font-weight: 600;
    font-size: 1.18rem;
}
.product-detail-wide-row {
    display: flex;
    flex-direction: row;
    gap: 32px;
    margin-top: 10px;
}
.product-detail-wide-card {
    flex: 1;
    background: #f3f6fa;
    border-radius: 12px;
    padding: 32px 28px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.03);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    min-width: 0;
}
.product-detail-wide-card h3 {
    margin-bottom: 14px;
    font-size: 1.18rem;
    font-weight: 600;
    color: #2B5173;
}
.product-detail-description {
    font-size: 1.13rem;
    color: #222;
    line-height: 1.7;
}
.product-detail-codes {
    font-size: 1.15rem;
    font-family: 'Fira Mono', 'Consolas', monospace;
    background: #fff;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 12px;
    width: 100%;
    word-break: break-all;
}
.copy-codes-btn {
    margin-top: 4px;
}
@media (max-width: 1100px) {
    .product-detail-main-container {
        padding: 18px 4vw;
    }
    .product-detail-flex-row {
        flex-direction: column;
        gap: 24px;
    }
    .product-detail-image-card, .product-detail-info-card {
        max-width: 100%;
        min-width: 0;
    }
    .product-detail-main-image {
        width: 100%;
        height: auto;
        max-width: 320px;
        max-height: 320px;
    }
    .product-detail-wide-row {
        flex-direction: column;
        gap: 18px;
    }
}
</style>
{% endblock %} 